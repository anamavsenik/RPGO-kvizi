% TEST

% Matrika toèk d_i
D = [
    -5 0;
    -4 1;
    -2 -1;
    0 3;
    3 0;
    5 2;
    7 -1
    ];
b=bezier(D);
% Prvo in zadnjo toèko izpustimo
% Popravi dolžino, èe potrebno v end-1
P  = D(2:6,:)            % [-4 1;  -2  -1; 0 3; 3 0; 5 2];
ue = alphaparam(P,0);    % [0 1 2 3 4]
uc = alphaparam(P ,0.5); % [0  1.6818  3.7965  5.8563  7.5381]
ut = alphaparam(P,1);    % [0  2.8284  7.3006  11.5432  14.3716]

B1 = beziercubspline(ue,D);

[B1{1} B1{2} B1{3} B1{4}]
% -5.0000         0   -2.1667    0.1667    0.1667    1.8333    3.0000    1.0000
%  -4.0000    1.0000   -1.3333    0.3333    1.0000    2.0000    4.0000    1.0000
% -3.0000         0   -0.6667    1.6667    2.0000    1.0000    5.0000    2.0000
%-2.1667    0.1667    0.1667    1.8333    3.0000    1.0000    7.0000   -1.0000


B2 = beziercubspline(uc,D);

[B2{1} B2{2} B2{3} B2{4}]
%-5.0000         0   -2.3661    0.1294    0.2017    1.7570    3.2189    0.9934
%-4.0000    1.0000   -1.4256    0.1487    1.0833    1.9167    4.1010    1.1010
%-3.1140    0.1140   -0.7034    1.5931    2.1385    0.8615    5.0000    2.0000
%-2.3661    0.1294    0.2017    1.7570    3.2189    0.9934    7.0000   -1.0000


B3 = beziercubspline(ut,D);

[B3{1} B3{2} B3{3} B3{4}]
%-5.0000         0   -2.5606    0.1302    0.2386    1.6878    3.4260    1.0140
%-4.0000    1.0000   -1.5099   -0.0199    1.1623    1.8377    4.2000    1.2000
%-3.2251    0.2251   -0.7351    1.5298    2.2649    0.7351    5.0000    2.0000
%-2.5606    0.1302    0.2386    1.6878    3.4260    1.0140    7.0000   -1.0000

hold on
plot(D(:,1),D(:,2), 'k')
plot(D(:,1),D(:,2), 'b.','MarkerSize', 20)
plot(B1{1}(:,1),B1{1}(:,2), 'b.','MarkerSize', 20)
plot(B1{1}(:,1),B1{1}(:,2), 'k')
plot(B1{2}(:,1),B1{2}(:,2), 'b.','MarkerSize', 20)
plot(B1{2}(:,1),B1{2}(:,2), 'k')
plot(B1{3}(:,1),B1{3}(:,2), 'b.','MarkerSize', 20)
plot(B1{3}(:,1),B1{3}(:,2), 'k')
plot(B1{4}(:,1),B1{4}(:,2), 'b.','MarkerSize', 20)
plot(B1{4}(:,1),B1{4}(:,2), 'k')

plot(B2{1}(:,1),B2{1}(:,2), 'b.','MarkerSize', 20)
plot(B2{1}(:,1),B2{1}(:,2), 'k')
plot(B2{2}(:,1),B2{2}(:,2), 'b.','MarkerSize', 20)
plot(B2{2}(:,1),B2{2}(:,2), 'k')
plot(B2{3}(:,1),B2{3}(:,2), 'b.','MarkerSize', 20)
plot(B2{3}(:,1),B2{3}(:,2), 'k')
plot(B2{4}(:,1),B2{4}(:,2), 'b.','MarkerSize', 20)
plot(B2{4}(:,1),B2{4}(:,2), 'k')

plot(B3{1}(:,1),B3{1}(:,2), 'b.','MarkerSize', 20)
plot(B3{1}(:,1),B3{1}(:,2), 'k')
plot(B3{2}(:,1),B3{2}(:,2), 'b.','MarkerSize', 20)
plot(B3{2}(:,1),B3{2}(:,2), 'k')
plot(B3{3}(:,1),B3{3}(:,2), 'b.','MarkerSize', 20)
plot(B3{3}(:,1),B3{3}(:,2), 'k')
plot(B3{4}(:,1),B3{4}(:,2), 'b.','MarkerSize', 20)
plot(B3{4}(:,1),B3{4}(:,2), 'k')

hold off